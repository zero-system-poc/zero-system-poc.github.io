"use strict";chill_penguin.module("range_slider",(()=>{let e,t={};return{initialize:()=>{e=chill_penguin.range_slider,t={},e.setup()},setup:()=>{document.querySelectorAll('[data-module="range-slider.input-container"]').forEach((i=>{const n=i.querySelector('[data-module="range-slider.input-1"]'),l=n.getAttribute("id"),r=i.querySelector('[data-module="range-slider.input-2"]'),a=r.getAttribute("id");t[l]={id1:l,el1:n,id2:a,el2:r,slider_container:i,label_container:i.querySelector(':scope > [data-module="slider.labels"]'),labels:i.querySelectorAll(':scope > [data-module="slider.labels"] > * '),slider_fill:i.querySelector(':scope > [data-module="slider.background"] > [data-module="slider.fill"]'),input_bind1:n.getAttribute("data-slider-bind-input"),input_bind2:r.getAttribute("data-slider-bind-input")},e.ui.initialize(l),e.event_listeners.initialize(l)}))},ui:{initialize:t=>{e.ui.label_resize(t),e.ui.update_slider_track(t)},label_resize:e=>{const{slider_container:i,labels:n,label_container:l}=t[e],r=n.length,a=i.offsetWidth*r/(r-1);l.style.width=`${a}px`;const d=50/r*-1;l.style.transform=`translateX(${d}%)`},update_slider_track:e=>{const{slider_fill:i}=t[e];let{el1:n,el2:l}=t[e];if(parseInt(n.value)>parseInt(l.value)){const e=n;n=l,l=e}const r=(n.value-n.getAttribute("min"))/(n.getAttribute("max")-n.getAttribute("min"))*100;i.style.left=`${r}%`;const a=(l.value-l.getAttribute("min"))/(l.getAttribute("max")-l.getAttribute("min"))*100;i.style.width=a-r+"%"}},event_listeners:{initialize:i=>{const{el1:n,el2:l,input_bind1:r,input_bind2:a}=t[i];n.removeEventListener("input",e.event_listeners.handle_slider_change_1),n.addEventListener("input",e.event_listeners.handle_slider_change_1),l.removeEventListener("input",e.event_listeners.handle_slider_change_2),l.addEventListener("input",e.event_listeners.handle_slider_change_2),r&&(n.removeEventListener("input",e.event_listeners.handle_input_bind),n.addEventListener("input",e.event_listeners.handle_input_bind)),a&&(l.removeEventListener("input",e.event_listeners.handle_input_bind),l.addEventListener("input",e.event_listeners.handle_input_bind)),e.event_listeners.resize_listener(i)},handle_slider_change_1:t=>{e.ui.update_slider_track(t.currentTarget.getAttribute("id"))},handle_slider_change_2:t=>{e.ui.update_slider_track(t.currentTarget.previousElementSibling.getAttribute("id"))},handle_input_bind:t=>{e.action.set_input_bind_value(t.currentTarget.getAttribute("id"),t.currentTarget.getAttribute("data-slider-bind-input"),t.currentTarget.value)},resize_listener:i=>{const{el1:n}=t[i];chill_penguin.resize_observer(n,(()=>{e.ui.label_resize(i)}))}},action:{set_value:(t,i)=>{const n=document.getElementById(t),l="range-slider.input-1"===n.getAttribute("data-module")?n.getAttribute("id"):n.previousElementSibling.getAttribute("id"),r=n.getAttribute("data-slider-bind-input");n.value=i,e.ui.update_slider_track(l),r&&e.action.set_input_bind_value(t,r,i)},set_input_bind_value:(e,t,i)=>{const n=document.getElementById(e),l=parseInt(n.getAttribute("min"),10),r=parseInt(n.getAttribute("max"),10);document.getElementById(t).value=Math.min(Math.max(i,l),r)}}}}));