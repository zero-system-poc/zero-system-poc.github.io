"use strict";chill_penguin.module("slider",(()=>{let e,t={};return{initialize:()=>{e=chill_penguin.slider,t={},e.setup()},setup:()=>{document.querySelectorAll('[data-module="slider.input-container"]').forEach((i=>{const n=i.querySelector(":scope > [data-module='slider.input']"),l=n.getAttribute("id");t[l]={el:n,slider_container:i,label_container:i.querySelector(':scope > [data-module="slider.labels"]'),labels:i.querySelectorAll(':scope > [data-module="slider.labels"] > * '),slider_fill:i.querySelector(':scope > [data-module="slider.background"] > [data-module="slider.fill"]'),input_bind:n.getAttribute("data-slider-bind-input")},e.ui.initialize(l),e.event_listeners.initialize(l)}))},ui:{initialize:t=>{e.ui.label_resize(t),e.ui.update_slider_track(t)},label_resize:e=>{const{slider_container:i,labels:n,label_container:l}=t[e],r=n.length,a=i.offsetWidth*r/(r-1),s=50/r*-1;l.style.width=`${a}px`,l.style.transform=`translateX(${s}%)`},update_slider_track:e=>{const{el:i,slider_fill:n}=t[e],l=Math.round((i.value-i.getAttribute("min"))/(i.getAttribute("max")-i.getAttribute("min"))*100);n.style.width=`${l}%`}},event_listeners:{initialize:i=>{const{el:n,input_bind:l}=t[i];n.removeEventListener("input",e.event_listeners.handle_slider_change),n.addEventListener("input",e.event_listeners.handle_slider_change),l&&(n.removeEventListener("input",e.event_listeners.handle_input_bind),n.addEventListener("input",e.event_listeners.handle_input_bind)),e.event_listeners.resize_listener(i)},handle_slider_change:t=>{e.ui.update_slider_track(t.currentTarget.getAttribute("id"))},handle_input_bind:t=>{e.action.set_input_bind_value(t.currentTarget.getAttribute("id"),t.currentTarget.getAttribute("data-slider-bind-input"),t.currentTarget.value)},resize_listener:i=>{const{el:n}=t[i];chill_penguin.resize_observer(n,(()=>{e.ui.label_resize(i)}))}},action:{set_value:(i,n)=>{const{el:l,input_bind:r}=t[i];l.value=n,e.ui.update_slider_track(i),r&&e.action.set_input_bind_value(i,r,n)},set_input_bind_value:(e,i,n)=>{const{el:l}=t[e],r=parseInt(l.getAttribute("min"),10),a=parseInt(l.getAttribute("max"),10);document.getElementById(i).value=Math.min(Math.max(n,r),a)}}}}));